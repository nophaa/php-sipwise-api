# PHP Sipwise API

[![Build Status](https://travis-ci.org/nophaa/php-sipwise-api.svg?branch=master)](https://travis-ci.org/nophaa/php-sipwise-api)
[![StyleCI](https://styleci.io/repos/3948501/shield?style=flat)](https://styleci.io/repos/153237868)
[![Latest Stable Version](https://poser.pugx.org/nophaa/php-sipwise-api/v/stable)](https://packagist.org/packages/nophaa/php-sipwise-api)
[![Total Downloads](https://poser.pugx.org/nophaa/php-sipwise-api/downloads)](https://packagist.org/packages/nophaa/php-sipwise-api)
[![Latest Unstable Version](https://poser.pugx.org/nophaa/php-sipwise-api/v/unstable)](https://packagist.org/packages/nophaa/php-sipwise-api)
[![Monthly Downloads](https://poser.pugx.org/nophaa/php-sipwise-api/d/monthly)](https://packagist.org/packages/nophaa/php-sipwise-api)
[![Daily Downloads](https://poser.pugx.org/nophaa/php-sipwise-api/d/daily)](https://packagist.org/packages/nophaa/php-sipwise-api)

A simple Object Oriented wrapper for Sipwise Server API, written with PHP.

Tested with Sipwise version mr6.4.1, and for testing you can use vagrant file include in the repo. For more information about sipwise server you can go to http://sipwise.com.

## Requirements

* PHP >= 5.6
* A [HTTP client](https://packagist.org/providers/php-http/client-implementation)
* A [PSR-7 implementation](https://packagist.org/providers/psr/http-message-implementation)
* A Guzzle http client for custom http client
* (optional) PHPUnit to run tests.

## Install

Via Composer:

```bash
$ composer require nophaa/php-sipwise-api php-http/guzzle6-adapter
```

Why `php-http/guzzle6-adapter`? We are decoupled from any HTTP messaging client with help by [HTTPlug](http://httplug.io/). Read about clients in our [docs](doc/customize.md).

## Basic usage of `php-sipwise-api` client

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

$client = new \Sipwise\Client();
$adapter  = Http\Adapter\Guzzle6\Client::createWithConfig(['verify'=>false]);
$apiClient = Sipwise\Client::createWithHttpClient($adapter);
$apiClient->authenticate('username','password');
$apiClient->setUrl('https://127.0.0.1:1443');
$apiClient->api('subscriber')->all(['username' => xxx]);
```
From `$apiClient` object, you can access sipwise api.

## Using Sipwise Vagrant
using Vagrant file you can run sipwise server

```bash
$ vagrant up
```
to remote the server 

```bash
vagrant ssh
```

shutdown sipwise vagrant server 

```bash
vagrant halt
```

sipwise api by default run in port 1443

## License

`php-sipwise-api` is licensed under the MIT License - see the LICENSE file for details

